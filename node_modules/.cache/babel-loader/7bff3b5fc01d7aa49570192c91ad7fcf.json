{"remainingRequest":"D:\\wechat-F\\node_modules\\babel-loader\\lib\\index.js!D:\\wechat-F\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\wechat-F\\src\\components\\message\\chat\\chat.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\wechat-F\\src\\components\\message\\chat\\chat.vue","mtime":1559913536941},{"path":"D:\\wechat-F\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559813990204},{"path":"D:\\wechat-F\\node_modules\\babel-loader\\lib\\index.js","mtime":1559813989953},{"path":"D:\\wechat-F\\node_modules\\vue-loader\\lib\\index.js","mtime":1559813999923}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport chatUser from \"./chat-user\";\nexport default {\n  data: function data() {\n    return {\n      chatContent: \"\",\n      Content: [],\n      display: \"display:none\",\n      randomReply: [\"你好!\", \"好的\", \"OK\", \"没问题\", \"就这样\", \"再见\", \"早上好\", \"晚上好\", \"中午好\"],\n      neirong1: \"\",\n      chatUser: false\n    };\n  },\n  methods: {\n    addContent: function addContent() {\n      var _this = this;\n\n      if (!this.chatContent == \"\") {\n        this.Content.push({\n          askImg: \"a_7.png\",\n          askContent: this.chatContent\n        }), this.chatContent = \"\";\n        setTimeout(function () {\n          _this.Content.push({\n            replyImg: \"a_7.png\",\n            replyContent: _this.randomReply[Math.floor(Math.random() * 9)] //自动回复代码this.randomReply[Math.floor(Math.random() * 19)]\n\n          });\n        }, 1000);\n      }\n    },\n    clear: function clear() {\n      this.Content = [];\n    },\n    scroll: function scroll() {\n      var now = new Date();\n      var div = document.getElementById(\"scrolldiv\");\n      div.scrollTop = div.scrollHeight + 50;\n      setTimeout(function () {\n        div.scrollTop += 55;\n      }, 1);\n    }\n  },\n  props: {\n    clickroom: {\n      type: Function\n    },\n    lid: {\n      default: \"\"\n    },\n    cUser: {\n      type: Function\n    },\n    uname: {\n      default: \"\"\n    },\n    img: {\n      default: \"\"\n    }\n  },\n  watch: {\n    $route: \"getParams\",\n    Content: function Content() {\n      this.scroll();\n    }\n  },\n  components: {\n    chatUser: chatUser\n  }\n};",{"version":3,"sources":["chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,QAAA,MAAA,aAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,mBAAA,EADA;AAEA,eAAA,EAFA;AAGA,eAAA,cAHA;AAIA,mBAAA,CACA,KADA,EAEA,IAFA,EAGA,IAHA,EAIA,KAJA,EAKA,KALA,EAMA,IANA,EAOA,KAPA,EAQA,KARA,EASA,KATA,CAJA;AAeA,gBAAA,EAfA;AAgBA,gBAAA;AAhBA,KAAA;AAkBA,GApBA;AAqBA,WAAA;AACA,cADA,wBACA;AAAA;;AACA,UAAA,CAAA,KAAA,WAAA,IAAA,EAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,SADA;AAEA,sBAAA,KAAA;AAFA,SAAA,GAIA,KAAA,WAAA,GAAA,EAJA;AAKA,mBAAA,YAAA;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA;AACA,sBAAA,SADA;AAEA,0BAAA,MAAA,WAAA,CAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,CAAA,CAAA,CAFA,CAGA;;AAHA,WAAA;AAKA,SANA,EAMA,IANA;AAOA;AACA,KAhBA;AAiBA,SAjBA,mBAiBA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,KAnBA;AAoBA,UApBA,oBAoBA;AACA,UAAA,MAAA,IAAA,IAAA,EAAA;AACA,UAAA,MAAA,SAAA,cAAA,CAAA,WAAA,CAAA;AACA,UAAA,SAAA,GAAA,IAAA,YAAA,GAAA,EAAA;AACA,iBAAA,YAAA;AACA,YAAA,SAAA,IAAA,EAAA;AACA,OAFA,EAEA,CAFA;AAGA;AA3BA,GArBA;AAkDA,SAAA;AACA,eAAA;AAAA,YAAA;AAAA,KADA;AAEA,SAAA;AAAA,eAAA;AAAA,KAFA;AAGA,WAAA;AAAA,YAAA;AAAA,KAHA;AAIA,WAAA;AAAA,eAAA;AAAA,KAJA;AAKA,SAAA;AAAA,eAAA;AAAA;AALA,GAlDA;AAyDA,SAAA;AACA,YAAA,WADA;AAEA,WAFA,qBAEA;AACA,WAAA,MAAA;AACA;AAJA,GAzDA;AA+DA,cAAA;AACA,cAAA;AADA;AA/DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"chatroom\">\r\n    <div class=\"back\">\r\n      <span class=\"leftback\">\r\n        <img src=\"http://172.242.19.42:3000/wechat/ic_back.png\" alt @click=\"clickroom(),clear()\">\r\n        <p>{{uname}}</p>\r\n      </span>\r\n\r\n      <span class=\"rightuser\" @click=\"cUser(lid,uname)\">\r\n        <img src=\"http://172.242.19.42:3000/wechat/backMyilList.png\" alt>\r\n      </span>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"content-wapper\" id=\"scrolldiv\">\r\n        <div class=\"content-top\">\r\n          <p>————现在可以和我聊天了————</p>\r\n        </div>\r\n        <div class=\"content-body\">\r\n          <ul v-for=\"(item,index) in Content\" :key=\"index\">\r\n            <li class=\"ask\" :id=\"index\" v-show=\"item.askContent\">\r\n              <img :src=\"item.replyImg\" alt>\r\n              <p>{{item.askContent}}</p>\r\n            </li>\r\n            <li class=\"reply\" v-show=\"item.replyContent\">\r\n              <img :src=\"img\" alt>\r\n              <p>{{item.replyContent}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom\">\r\n      <div class=\"send\">\r\n        <input type=\"text\" placeholder=\"请输入聊天内容\" v-model=\"chatContent\">\r\n        <mt-button size=\"normal\" class=\"sendbutton\" @click=\"addContent\">发送</mt-button>\r\n      </div>\r\n    </div>\r\n    <!-- <mt-popup position=\"right\" v-model=\"chatUser\" class=\"chat\">\r\n            <chatUser :cUser=\"cUser\"></chatUser>\r\n    </mt-popup>-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport chatUser from \"./chat-user\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      chatContent: \"\",\r\n      Content: [],\r\n      display: \"display:none\",\r\n      randomReply: [\r\n        \"你好!\",\r\n        \"好的\",\r\n        \"OK\",\r\n        \"没问题\",\r\n        \"就这样\",\r\n        \"再见\",\r\n        \"早上好\",\r\n        \"晚上好\",\r\n        \"中午好\"\r\n      ],\r\n      neirong1: \"\",\r\n      chatUser: false\r\n    };\r\n  },\r\n  methods: {\r\n    addContent() {\r\n      if (!this.chatContent == \"\") {\r\n        this.Content.push({\r\n          askImg: \"a_7.png\",\r\n          askContent: this.chatContent\r\n        }),\r\n          (this.chatContent = \"\");\r\n        setTimeout(() => {\r\n          this.Content.push({\r\n            replyImg: \"a_7.png\",\r\n            replyContent: this.randomReply[Math.floor(Math.random() * 9)]\r\n            //自动回复代码this.randomReply[Math.floor(Math.random() * 19)]\r\n          });\r\n        }, 1000);\r\n      }\r\n    },\r\n    clear() {\r\n      this.Content = [];\r\n    },\r\n    scroll() {\r\n      var now = new Date();\r\n      var div = document.getElementById(\"scrolldiv\");\r\n      div.scrollTop = div.scrollHeight + 50;\r\n      setTimeout(() => {\r\n        div.scrollTop += 55;\r\n      }, 1);\r\n    }\r\n  },\r\n  props: {\r\n    clickroom: { type: Function },\r\n    lid: { default: \"\" },\r\n    cUser: { type: Function },\r\n    uname: { default: \"\" },\r\n    img: { default: \"\" }\r\n  },\r\n  watch: {\r\n    $route: \"getParams\",\r\n    Content() {\r\n      this.scroll();\r\n    }\r\n  },\r\n  components: {\r\n    chatUser: chatUser\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.chatroom {\r\n  z-index: 200;\r\n  position: relative;\r\n}\r\n/* 头部样式 */\r\n.back {\r\n  position: fixed;\r\n  top: 0;\r\n  height: 50px;\r\n  width: 100%;\r\n  background-color: #1e2b39;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.leftback {\r\n  display: flex;\r\n}\r\n.leftback img {\r\n  height: 16px;\r\n  margin-left: 15px;\r\n  margin-top: 2px;\r\n}\r\n.leftback p {\r\n  color: white;\r\n  font-size: 20px;\r\n  margin-left: 15px;\r\n  padding-left: 10px;\r\n  border-left: 1px solid #000;\r\n  margin-bottom: 0;\r\n}\r\n.rightuser img {\r\n  margin-right: 15px;\r\n  margin-top: 2px;\r\n  width: 28px;\r\n}\r\n\r\n/* 聊天内容样式 */\r\n.content {\r\n  position: fixed;\r\n  top: 50px;\r\n  bottom: 50px;\r\n  background-color: #ebebeb;\r\n  width: 100%;\r\n}\r\n.content .content-wapper {\r\n  height: 100%;\r\n  overflow: auto;\r\n}\r\n.content-top {\r\n  margin-top: 5px;\r\n  font-size: 14px;\r\n  color: #adadad;\r\n  text-align: center;\r\n}\r\n\r\n.content-body {\r\n  padding: 20px 10px;\r\n}\r\n.content-body ul {\r\n  list-style: none;\r\n  display: block;\r\n  padding: 0;\r\n}\r\n/* 发送消息样式 */\r\nul li.ask {\r\n  text-align: right;\r\n  line-height: 28px;\r\n  margin-bottom: 15px;\r\n}\r\n.content-body ul li::after {\r\n  display: table;\r\n  content: \"\";\r\n  clear: both;\r\n}\r\n.content-body ul li > img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\nli.ask > img {\r\n  float: right;\r\n  margin-left: 15px;\r\n}\r\n.content-body ul li > p {\r\n  line-height: 30px;\r\n  padding: 3px 10px;\r\n  max-width: 190px;\r\n\r\n  border-radius: 3px;\r\n}\r\nli.ask > p {\r\n  float: right;\r\n  background-color: #09bb07;\r\n  color: #fff;\r\n}\r\n/* 回复消息样式 */\r\nul li.reply {\r\n  text-align: left;\r\n  line-height: 28px;\r\n  margin-bottom: 15px;\r\n}\r\nli.reply > img {\r\n  float: left;\r\n  margin-right: 15px;\r\n}\r\nli.reply > p {\r\n  float: left;\r\n  background-color: #fff;\r\n  color: #000;\r\n}\r\n\r\n/* 底部样式 */\r\n.bottom {\r\n  position: fixed;\r\n  bottom: 0;\r\n  height: 50px;\r\n  width: 100%;\r\n  background-color: #fff;\r\n}\r\n.send {\r\n  height: 50px;\r\n}\r\n.send input {\r\n  height: 30px !important;\r\n  width: 70% !important;\r\n  border: none !important;\r\n  margin: 10px !important;\r\n  font-size: 15px !important;\r\n  border-bottom: 1px solid #adadad !important;\r\n  padding-left: 8px !important;\r\n}\r\n.send button {\r\n  margin-top: 10px;\r\n  background-color: #09bb07;\r\n  color: white;\r\n  height: 28px;\r\n  width: 20%;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\message\\chat"}]}